% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract-single_records_with_checkbox_groups.R
\name{rc_export_single_record_with_groups}
\alias{rc_export_single_record_with_groups}
\title{Export a Single REDCap Record and Group Checkbox Variables}
\usage{
rc_export_single_record_with_groups(field_name, field_value)
}
\arguments{
\item{field_name}{Character string. The field name to search for
(e.g., \code{'unique_ctr_id'}).}

\item{field_value}{Character string or pattern to match within \code{field_name}.}
}
\value{
A data frame containing the full REDCap record for the matching
record ID, with an additional grouped column for each checkbox field.
The grouped column contains the selected raw codes joined by commas,
and is placed immediately before the corresponding dummy columns.
}
\description{
Retrieves a single REDCap record matching a specified field/value pair,
and automatically groups checkbox dummy columns (with \verb{___} separators)
into their corresponding main variable columns. The grouped variables
are relocated to appear immediately before their related dummy columns.
}
\details{
Uses environment variables \code{RC_API_URL} and \code{RC_API_TOKEN} set via
\code{rc_config()}.

This function performs the following steps:
\enumerate{
\item Queries REDCap for all records containing \code{field_name}.
\item Identifies the record whose \code{field_name} value matches \code{field_value}.
\item Retrieves the complete record for the matching record ID.
\item Detects checkbox fields by searching for columns with \verb{___} in their names.
\item Combines each set of dummy columns into a single grouped column
with raw codes (e.g., \code{"0,2,5"}).
\item Relocates the grouped column immediately before its corresponding
dummy variables.
}

Environment variables \code{RC_API_URL} and \code{RC_API_TOKEN} must be set prior to
calling this function. Use \code{rc_config(api_url, api_token)} to configure.
}
\examples{
\dontrun{
rc_config("https://redcap.your.org/api/", "XYZ123TOKEN")
df <- rc_export_single_record_with_groups(field_name = "unique_ctr_id",
                                          field_value = "HRL001174")
head(df)
}

}
